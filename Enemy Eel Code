###This tutorial was used to help with creating the enemy AI : https://youtu.be/4WywpSBncFI ######
###This tutorial was used to help will layering and collisions: https://youtu.be/3rrPr90Oras ####

extends KinematicBody2D

var velocity = Vector2(0,0)

#Exporting variables that can be changed in the editor for ease of access for Level Designer


#making variables names to lessen the amount of code on screen
onready var animated_sprite = $AnimatedSprite
onready var enemy_hit_area = $AttackArea
onready var animation_player_playing_attack = $AnimatedSprite/AnimationPlayer
onready var animation_player_playing_idle = $AnimatedSprite/AnimationPlayer


func _ready():
	animation_player_playing_idle.play("idle")
	
func _process(_delta):
	#telling the enemy to attack the player
	if animation_player_playing_attack.current_animation == "attack":
		return
		
		
#Connecting the Dectecting Player to body entered signal
func _on_DetectingPlayer_body_entered(body):
	animation_player_playing_attack.play("attack")
	#print("Player detected")
	
#Connecting the AttackArea to body entered signal
func _on_AttackArea_body_entered(body):
	get_tree().reload_current_scene()
	#print("Player Died")

func hit():
	enemy_hit_area.monitoring = true
	#print("attacking player")

func end_of_hit():
	enemy_hit_area.monitoring = false
	#print("enemy stopped attacking player")

func return_to_idle():
	animation_player_playing_idle.play("idle")
